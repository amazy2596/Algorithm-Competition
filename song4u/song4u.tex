\documentclass{article}
\usepackage[a4paper, landscape, top=1cm, bottom=1.5cm, left=1cm, right=1cm]{geometry} %预览版
% \usepackage[a4paper, landscape, twoside, top=1cm, bottom=1.5cm, inner=1cm, outer=2.5cm]{geometry} %打印版，方便横向翻页
\usepackage[fontset=none]{ctex}
\usepackage{pdfpages}
\usepackage{graphicx}
\usepackage{titlesec}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{fontspec}
\usepackage{multicol}
\usepackage{hyperref}
\usepackage{colortbl}
\usepackage{grffile}
\usepackage{amsmath, amssymb, amsfonts, mathtools}
\usepackage{pdfpages}

% 作者徽标样式：灰色、等宽、略大一点
\usepackage{xcolor}
\usepackage{tocloft}

% ===== 作者徽标：正文里用（更大、更醒目）=====
\newcommand{\AuthBadge}[1]{\textcolor{gray}{\bfseries\ttfamily\large @#1}}

% ====== 目录右对齐作者：利用可选参数 + \hfill ======
% \SecWithAuthor 供 \section 使用
\newcommand{\SecWithAuthor}[2]{%
  \section[#1~\textcolor{gray}{\ttfamily @#2}]{#1\hfill\AuthBadge{#2}}%
}

% \SubsecWithAuthor 供 \subsection 使用
\newcommand{\SubsecWithAuthor}[2]{%
  \subsection[#1~\textcolor{gray}{\ttfamily @#2}]{#1\hfill\AuthBadge{#2}}%
}

% \SubsubsecWithAuthor 供 \subsubsection 使用（可选）
\newcommand{\SubsubsecWithAuthor}[2]{%
  \subsubsection[#1~\textcolor{gray}{\ttfamily @#2}]{#1\hfill\AuthBadge{#2}}%
}

\hypersetup{
  colorlinks=true,
  linkcolor=black,
  pdfstartview=Fit,
  breaklinks=true,
  linktoc=all
}

\setcounter{secnumdepth}{4} % 允许编号到第4级
\setcounter{tocdepth}{4}    % 在目录中显示到第4级

\makeatletter
\newcommand\subsubsubsection{\@startsection{paragraph}{4}{\z@}
  {-3.25ex\@plus -1ex \@minus -.2ex}
  {1.5ex \@plus .2ex}
  {\normalfont\normalsize\bfseries}}
\makeatother

% 设置中文字体
\setCJKmainfont[AutoFakeBold={2.5}]{Microsoft YaHei} % 
\setmonofont{Consolas}

\linespread{1.2}
\setlength{\parskip}{0.2em}
\setlength{\parindent}{0em}
\setlength\columnsep{0.8cm}

\titlespacing*{\section}{0pt}{0.8ex}{0.5ex}
\titlespacing*{\subsection}{0pt}{0.5ex}{0.3ex}
\titlespacing*{\subsubsection}{0pt}{0.2ex}{0.1ex}

\titleformat{\section}
{\zihao{-3}\Large\bfseries}
{\thesection}{1em}{}

\titleformat{\subsection}
{\zihao{-3}\large\bfseries}
{\thesubsection}{0.5em}{}

% 定义代码高亮样式
\definecolor{codekeyword}{RGB}{0, 0, 136}
\definecolor{codetype}{RGB}{146, 0, 146}
\definecolor{codestring}{RGB}{0, 136, 0}
\definecolor{codepunctuality}{RGB}{146, 146, 0}
\definecolor{codenumber}{RGB}{0, 146, 146}
\definecolor{codecomment}{RGB}{136, 0, 0}

\lstdefinestyle{cppstyle}{
    language=C++,
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=4,
    frame=single,
    backgroundcolor=\color{white},
    rulecolor=\color{black},
    commentstyle=\color{codecomment}\bfseries,
    stringstyle=\color{codestring}\bfseries,
    morekeywords={
        if, while, else, using, for, do, false, true, nullptr, struct, class,
        public, protected, private, const, constexpr, return, template, assert
    },
    emph={
        int, char, float, double, bool, short, long, unsigned, signed, void, size_t, decltype, auto, int64_t,
        array, vector, list, map, set, unordered_map, unordered_set, stack, queue, priority_queue, pair, tuple, typename,
        i32, i64, i128, u32, u64, u128
    },
    keywordstyle=\color{codekeyword}\bfseries,
    emphstyle=\color{codetype}\bfseries,
    belowskip=1em
}

\lstdefinestyle{pystyle} {
    language=Python,
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=4,
    frame=single,
    backgroundcolor=\color{white},
    rulecolor=\color{black},
    commentstyle=\color{codecomment},
    stringstyle=\color{codestring}\bfseries,
    morekeywords={
        def, class, if, else, elif, for, while, try, except, finally, import, from, as, with, lambda, return, yield,
        True, False, None, and, or, not, is, in, global, nonlocal, assert
    },
    emph={
        int, float, bool, str, list, dict, tuple, set, frozenset, range, bytes, bytearray, NoneType, complex,
        object, Exception, BaseException, type, generator, function, method, coroutine
    },
    keywordstyle=\color{codekeyword}\bfseries,
    emphstyle=\color{codetype}\bfseries,
    backgroundcolor=\color{black!5},
    belowskip=1em
}

\begin{document}

% ===================== 封面 ======================================
\begin{center}
    \includegraphics[width=0.9\textwidth]{img/HENU_LOGO.png}
    \vspace*{40pt}\\
    {\fontsize{64}{0}\selectfont {\setmainfont[LetterSpace=6]{Times New Roman}I'm dying to play GTA 6}}\\
    \vspace*{40pt}
    {\LARGE\bf{Contestant}}\\

    \vspace*{30pt}

    \setlength{\multicolsep}{0.5em}
    \noindent{\makebox[\textwidth][c]{\begin{minipage}{0.5\textwidth}
        \begin{multicols}{3}
        \centering{\Large\bf{范恒嘉}}\\
        \centering{\Large\bf{宋明贤}}\\
        \centering{\Large\bf{张帆}}\\
        \end{multicols}
        \begin{multicols}{3}
        \centering{\Large\bf{Hengjia Fan}}\\
        \centering{\Large\bf{Mingxian Song}}\\
        \centering{\Large\bf{Fan Zhang}}\\
        \end{multicols}
    \end{minipage}}}
\end{center}
% ===================== 封面 ======================================

\thispagestyle{empty}
\newpage
\setcounter{page}{1}

\begin{multicols*}{2}
    \pagestyle{empty}
    \tableofcontents
    \newpage
    \setcounter{page}{1}
\end{multicols*}

\begin{multicols*}{2}
% ===================== 插入代码 ======================================
\begin{small}
\input{contents.tex}
\end{small}
% ===================== 插入代码 ======================================
\end{multicols*}
\end{document}
